{% trans_default_domain "security" %}
{% extends 'base.html.twig' %}
{% import 'layout/macros_layout.html.twig' as ml %}

{% block body %}
    <section class="login-form">
        <h1 class="text-center">
            <span class="app-name">{{ app_name|upper }} </span>
            <span class="app-version">{{ app_version }}</span>
        </h1>
        <div class="panel panel-default">
            <div class="panel-heading">{% block login_title %}{% endblock %}</div>
            <div class="panel-body">
                {{ ml.flash_message('success', 'success') }}
                {{ ml.flash_message('error', 'danger') }}
                {% if login_error is defined and login_error %}
                    <div class="alert alert-danger alert-dismissable">{{ login_error.messageKey|trans(login_error.messageData) }}</div>
                {% endif %}
                {% if error is defined and error %}
                    <div class="alert alert-danger alert-dismissable">{{ error }}</div>
                {% endif %}
                {% block login_content %}{% endblock %}
            </div>
        </div>
    </section>

    <footer class="footer no-print" role="contentinfo">
        <div class="container">
            <p class="text-muted text-center">{{ 'form.login.footer.first'|trans }} <a href="{{ app_repository }}">{{ 'form.login.footer.link.caption'|trans }}</a> {{ 'form.login.footer.second'|trans }} <a href="https://www.gnu.org/licenses/agpl-3.0.html">{{ 'form.login.footer.link.agpl_caption'|trans }}</a></p>
        </div>
    </footer>
{% endblock %}
